<div class="parent-container">
    
       
    <div class="SortSettingcontainer">
        <div class="title"> 
            <h2>Filters</h2>
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0 0 50 50">
                <path d="M 4 2 C 3.398438 2 3 2.398438 3 3 L 3 6 C 3 6.300781 3.113281 6.488281 3.3125 6.6875 L 19.3125 23.6875 C 19.511719 23.886719 19.800781 24 20 24 L 30 24 C 30.300781 24 30.488281 23.886719 30.6875 23.6875 L 46.6875 6.6875 C 46.886719 6.488281 47 6.300781 47 6 L 47 3 C 47 2.398438 46.601563 2 46 2 Z M 19 26 L 19 41 C 19 41.398438 19.199219 41.707031 19.5 41.90625 L 29.5 47.90625 C 29.601563 48.007813 29.800781 48 30 48 C 30.199219 48 30.300781 48.007813 30.5 47.90625 C 30.800781 47.707031 31 47.398438 31 47 L 31 26 Z"></path>
                </svg>
            
        </div>
       <div class="queryelements" >
        
        <ng-multiselect-dropdown *ngIf="isDropdownReady"
        [placeholder]="'Type'"
        [data]="Types"
        [(ngModel)]="selectedTypes"
        [settings]="dropdownSettings"
       >
    </ng-multiselect-dropdown>
    
        <ng-multiselect-dropdown *ngIf="isDropdownReady"
        [placeholder]="'Status'"
        [data]="Status"
        [(ngModel)]="selectedStatus"
        [settings]="dropdownSettings2"
        [disabled]="selectedStatus.length >= 1"
        
       >
    </ng-multiselect-dropdown>

    <button (click)="resetSelected()">
        Clear status
    </button>
    
       
         
         <div class="DateRangeSlider">
            <div class="TextContainer">
                Start :
            </div>
            <div class="form-group">
                <input  [(ngModel)]="FilterStartDate" placeholder="Start Date" value="yyyy-mm-dd"  type="date" class="form-control" id=">StartDate" name=">StartDate"  >
            </div>
            <div class="TextContainer">
                End :
            </div>
            <div class="form-group">
                
                <input  [(ngModel)]="FilterEndDate" type="date" class="form-control" id=">StartDate" name=">StartDate"  >
            </div>
        </div>
     
      <!-- <button > -->
      <button (click)="applyFilters()">
        <svg  class="icon"xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 50 50">
            <path d="M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z"></path>
            </svg>
      </button>
      <!-- <button> -->
      <button (click)="resetFilters()">
            <svg class="icon"xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 50 50">
            <path d="M 46.4375 0.03125 C 45.539063 0.0390625 44.695313 0.398438 44.21875 1.125 L 36.625 15.40625 C 37.1875 15.601563 38.453125 16.164063 42.65625 18.0625 L 42.71875 18.09375 C 43.445313 18.421875 44 18.65625 44.21875 18.75 C 44.292969 18.785156 44.363281 18.839844 44.4375 18.875 L 49.96875 3.5625 C 50.316406 2.351563 49.449219 0.957031 48.0625 0.40625 C 47.546875 0.148438 46.976563 0.0273438 46.4375 0.03125 Z M 4 8 C 1.792969 8 0 9.792969 0 12 C 0 14.207031 1.792969 16 4 16 C 6.207031 16 8 14.207031 8 12 C 8 9.792969 6.207031 8 4 8 Z M 13 11 C 11.894531 11 11 11.894531 11 13 C 11 14.105469 11.894531 15 13 15 C 14.105469 15 15 14.105469 15 13 C 15 11.894531 14.105469 11 13 11 Z M 32.15625 16.625 C 30.222656 16.769531 28.539063 17.730469 27.34375 19.40625 C 28.097656 20.675781 29.417969 22.226563 31.28125 22.1875 C 31.773438 22.167969 32.1875 22.523438 32.28125 23 C 32.660156 23.589844 34.988281 24.636719 35.65625 24.375 C 35.9375 24.265625 36.238281 24.289063 36.5 24.4375 C 36.761719 24.585938 36.949219 24.828125 37 25.125 C 37.039063 25.289063 37.476563 25.863281 38.375 26.28125 C 39.082031 26.609375 39.769531 26.691406 40.15625 26.5 C 40.40625 26.375 40.679688 26.371094 40.9375 26.46875 C 41.199219 26.566406 41.425781 26.773438 41.53125 27.03125 C 42.207031 28.679688 45.292969 28.800781 47.40625 28.625 C 47.714844 27.285156 47.632813 25.890625 47.15625 24.59375 C 46.496094 22.808594 45.1875 21.398438 43.40625 20.59375 C 43.21875 20.511719 42.613281 20.222656 41.84375 19.875 C 38.28125 18.265625 36.269531 17.390625 35.875 17.28125 C 34.570313 16.765625 33.316406 16.539063 32.15625 16.625 Z M 11.5 18 C 8.46875 18 6 20.46875 6 23.5 C 6 26.53125 8.46875 29 11.5 29 C 14.53125 29 17 26.53125 17 23.5 C 17 20.46875 14.53125 18 11.5 18 Z M 26.28125 21.40625 C 25.96875 22.148438 25.613281 22.84375 25.25 23.5 C 25.679688 24.546875 26.949219 26.972656 29.28125 26.4375 C 29.550781 26.375 29.835938 26.410156 30.0625 26.5625 C 30.292969 26.714844 30.421875 26.949219 30.46875 27.21875 C 30.535156 27.59375 30.976563 28.039063 31.59375 28.375 C 32.46875 28.847656 33.414063 28.953125 33.8125 28.78125 C 34.074219 28.667969 34.367188 28.660156 34.625 28.78125 C 34.882813 28.902344 35.078125 29.132813 35.15625 29.40625 C 35.296875 29.882813 35.789063 30.371094 36.46875 30.71875 C 37.269531 31.125 38.183594 31.273438 38.78125 31.0625 C 39.242188 30.902344 39.734375 31.097656 39.96875 31.53125 C 40.851563 33.167969 43.75 33.34375 46 33.1875 C 46.285156 32.375 46.550781 31.539063 46.8125 30.65625 C 46.542969 30.671875 46.261719 30.6875 45.96875 30.6875 C 43.875 30.6875 41.371094 30.273438 40.125 28.5625 C 39.28125 28.675781 38.3125 28.492188 37.34375 28 C 36.640625 27.640625 35.867188 27.089844 35.40625 26.40625 C 34.132813 26.40625 32.667969 25.699219 31.9375 25.25 C 31.371094 24.902344 30.929688 24.558594 30.65625 24.1875 C 28.671875 24.003906 27.253906 22.710938 26.28125 21.40625 Z M 24 25.46875 C 17.800781 34.082031 7.214844 33.828125 7.09375 33.8125 C 6.699219 33.777344 6.3125 33.988281 6.125 34.34375 C 5.9375 34.699219 5.964844 35.125 6.21875 35.4375 C 8.003906 37.640625 9.921875 39.503906 11.875 41.09375 C 12.796875 41.277344 18.597656 42.097656 24.34375 35.4375 C 24.703125 35.019531 25.332031 34.984375 25.75 35.34375 C 26.167969 35.703125 26.203125 36.332031 25.84375 36.75 C 21.835938 41.394531 17.609375 42.847656 14.65625 43.15625 C 17.125 44.820313 19.613281 46.078125 21.9375 47.03125 C 23.414063 46.722656 28.367188 45.242188 32.75 38.5625 C 33.054688 38.101563 33.695313 37.945313 34.15625 38.25 C 34.617188 38.554688 34.742188 39.195313 34.4375 39.65625 C 31.132813 44.691406 27.515625 47.054688 24.96875 48.15625 C 30.167969 49.839844 34.046875 49.988281 34.375 50 L 34.40625 50 C 34.59375 50 34.777344 49.945313 34.9375 49.84375 C 35.21875 49.667969 41.007813 45.886719 45.25 35.25 C 45.085938 35.253906 44.917969 35.28125 44.75 35.28125 C 42.5625 35.28125 40.035156 34.839844 38.65625 33.125 C 37.6875 33.242188 36.578125 33.019531 35.5625 32.5 C 34.734375 32.074219 34.078125 31.503906 33.65625 30.84375 C 32.59375 30.933594 31.445313 30.550781 30.65625 30.125 C 29.84375 29.683594 29.207031 29.128906 28.84375 28.5 C 26.542969 28.621094 24.945313 27.054688 24 25.46875 Z"></path>
            </svg>
        </button>
        </div>

    <div class="vertical-line"></div>

    <div class="add-user-container">
        <!-- <a class="btn float-end m-2 btn2" > 
            <svg class="icon "xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 72 72">
                <path d="M50,61c-0.731,0-1.464-0.2-2.112-0.604L36,53.004l-11.888,7.393c-1.356,0.847-3.088,0.799-4.401-0.116	c-1.312-0.916-1.952-2.524-1.628-4.091l2.923-14.118l-10.631-9.246c-1.203-1.047-1.67-2.708-1.188-4.228	c0.481-1.52,1.819-2.608,3.406-2.771l14.115-1.442L32.33,11.41C32.964,9.947,34.405,9,36,9s3.036,0.947,3.67,2.41l5.621,12.975	l14.115,1.442c1.587,0.162,2.925,1.251,3.406,2.771c0.482,1.52,0.016,3.181-1.188,4.228l-10.631,9.246l2.923,14.118	c0.324,1.566-0.316,3.175-1.628,4.091C51.604,60.759,50.802,61,50,61z"></path>
                </svg>
                Saved filters</a> -->
                
      
        <a class="btn float-end m-2 " [routerLink]="['/ContractADD']">
            <svg class="icon " xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 24 24">
                <path  d="M12,2C6.477,2,2,6.477,2,12s4.477,10,10,10s10-4.477,10-10S17.523,2,12,2z M15,13h-2v2c0,0.552-0.448,1-1,1h0 c-0.552,0-1-0.448-1-1v-2H9c-0.552,0-1-0.448-1-1v0c0-0.552,0.448-1,1-1h2V9c0-0.552,0.448-1,1-1h0c0.552,0,1,0.448,1,1v2h2 c0.552,0,1,0.448,1,1v0C16,12.552,15.552,13,15,13z"></path>
            </svg>
            Add Contract</a>

            
        </div>


    </div>

   

              


   
    <div class="table-container">
        
       
       
        
    
        <table class="table  table-striped table-bordered mt-4" *ngIf="Contracts && Contracts.length >= 1; else nodatafound">
            <thead>
                <tr>
                    <th>Type</th>
                    <th>Employee's Id</th>
                    <th>Full Name</th>
                    <th>Start date</th>
                    <th>End date</th>
                    <th>Salary</th>
                    <th>Status</th>
                    <th>Signature</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item  of CombinedData">
                    <td>{{item.contract.type}}</td>
                    <td>{{item.employee.matricule}}</td>
                    <td>{{item.employee.nom}} {{item.employee.prenom}} </td>
                    <td>{{item.contract.datedeb}}</td>
                    <td>        {{ isDateGreaterThan2039(item.contract.dateFin) ? '--' : item.contract.dateFin }} </td>
                    <td>{{item.contract.salaireb}}</td>
                    <td>

                        <span *ngIf="getContractColorClass(item.contract.dateFin) === 'Valid'">
                            <button class="Active">Active</button>
                        </span>

                        <span *ngIf="getContractColorClass(item.contract.dateFin) === 'UnderOneMonth'">
                            <button class="Soon">Expiring Soon</button>
                        </span>

                        <span *ngIf="getContractColorClass(item.contract.dateFin) === 'EndedEarlier'">
                            <button class="Recently">Recently Ended</button>
                        </span>

                        <span *ngIf="getContractColorClass(item.contract.dateFin) === 'LongGone'">
                            <button class="Expired">Expired</button>
                        </span>
                        <!-- Add more conditions as needed -->
                            

                    </td>
                    <td> 

                        <span *ngIf="item.contract.signature === true">
                            <button class="Signed">Signed</button>
                        </span>

                        <span *ngIf="item.contract.signature === false || null">
                            <button class="NotSigned" (click)="signcontract(item.contract.id ??0)">Not signed</button>
                        </span>

                      
                            

                    </td>
                   
                    
                    <td class="d-flex justify-content-center" >
                       
                        

                        <button class="btn btn-danger m-1" (click)="deleteContract(item.contract.id ?? 0 , item.employee.id)">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 50 50">
                                <path  fill="#FFFFFF" d="M 21 0 C 19.355469 0 18 1.355469 18 3 L 18 4 L 9.6875 4 C 8.453125 4 7.375 4.847656 6.96875 6 C 4.808594 6.070313 3.066406 7.847656 3 10.0625 C 3.035156 10.585938 3.46875 11 4 11 L 46 11 C 46.53125 11 46.96875 10.585938 47 10.0625 C 46.933594 7.847656 45.191406 6.070313 43.03125 6 C 42.625 4.847656 41.546875 4 40.3125 4 L 32 4 L 32 3 C 32 1.355469 30.644531 0 29 0 Z M 21 2 L 29 2 C 29.554688 2 30 2.445313 30 3 L 30 4 L 20 4 L 20 3 C 20 2.445313 20.445313 2 21 2 Z M 5.28125 13 L 10.21875 46.75 C 10.488281 48.636719 12.074219 50 14 50 L 36 50 C 37.851563 50 39.359375 48.722656 39.78125 46.75 L 44.71875 13 Z M 12.28125 16.3125 C 12.828125 16.246094 13.332031 16.609375 13.40625 17.15625 L 16.6875 42.0625 C 16.757813 42.609375 16.390625 43.117188 15.84375 43.1875 C 15.800781 43.195313 15.730469 43.1875 15.6875 43.1875 C 15.195313 43.1875 14.785156 42.847656 14.71875 42.34375 L 11.40625 17.4375 C 11.332031 16.890625 11.734375 16.386719 12.28125 16.3125 Z M 20.75 16.3125 C 21.277344 16.285156 21.789063 16.695313 21.8125 17.25 L 22.90625 42.15625 C 22.929688 42.707031 22.488281 43.164063 21.9375 43.1875 C 21.921875 43.1875 21.921875 43.1875 21.90625 43.1875 C 21.375 43.1875 20.929688 42.785156 20.90625 42.25 L 19.8125 17.34375 C 19.789063 16.792969 20.199219 16.335938 20.75 16.3125 Z M 29.25 16.3125 C 29.800781 16.335938 30.210938 16.792969 30.1875 17.34375 L 29.09375 42.25 C 29.070313 42.785156 28.625 43.1875 28.09375 43.1875 C 28.078125 43.1875 28.078125 43.1875 28.0625 43.1875 C 27.511719 43.164063 27.070313 42.707031 27.09375 42.15625 L 28.1875 17.25 C 28.210938 16.699219 28.707031 16.300781 29.25 16.3125 Z M 37.71875 16.3125 C 38.265625 16.382813 38.667969 16.890625 38.59375 17.4375 L 35.28125 42.34375 C 35.214844 42.847656 34.804688 43.1875 34.3125 43.1875 C 34.269531 43.1875 34.203125 43.195313 34.15625 43.1875 C 33.609375 43.117188 33.238281 42.609375 33.3125 42.0625 L 36.59375 17.15625 C 36.664063 16.609375 37.167969 16.242188 37.71875 16.3125 Z"></path>
                                </svg>
                                
                        </button>

                        <button class="btn btn-warning m-1" (click)="navigateToUpdate(item)">
                            <svg  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 64 64">
                                <path  fill="#FFFFFF" d="M51.328 12.672c1.933 1.933 1.933 5.067 0 7l-2.414 2.414-7-7 2.414-2.414C46.261 10.739 49.395 10.739 51.328 12.672zM39.086 17.914l7 7L21.505 49.495l-9.201 4.412c-1.367.457-2.668-.844-2.211-2.211l4.412-9.201L39.086 17.914zM16.334 48.708l3.963-2.081-2.861-2.861-2.103 3.839c-.219.395-.308.753-.053 1.046C15.592 49.009 15.962 48.901 16.334 48.708z"></path>
                                </svg>
                        </button>
                        <button class="btn btn-success m-1" (click)="navigateToRenew(item)" >
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 72 72">
                                <path  fill="#FFFFFF" d="M 29 13 C 25.69 13 23 15.69 23 19 L 23 56 C 23 57.46 22.599922 58.82 21.919922 60 L 39.029297 60 C 39.009297 59.67 39 59.34 39 59 C 39 50.16 46.16 43 55 43 C 57.12 43 59.15 43.409922 61 44.169922 L 61 19 C 61 15.69 58.31 13 55 13 L 29 13 z M 35 24 L 49 24 C 50.1 24 51 24.9 51 26 C 51 27.1 50.1 28 49 28 L 35 28 C 33.9 28 33 27.1 33 26 C 33 24.9 33.9 24 35 24 z M 17 26 C 13.686 26 11 28.686 11 32 L 11 56 C 11 58.206 12.794 60 15 60 C 17.206 60 19 58.206 19 56 L 19 26 L 17 26 z M 35 31 L 49 31 C 50.1 31 51 31.9 51 33 C 51 34.1 50.1 35 49 35 L 35 35 C 33.9 35 33 34.1 33 33 C 33 31.9 33.9 31 35 31 z M 35 38 L 40 38 C 41.1 38 42 38.9 42 40 L 42 46 C 42 47.1 41.1 48 40 48 L 35 48 C 33.9 48 33 47.1 33 46 L 33 40 C 33 38.9 33.9 38 35 38 z M 47 38 L 49 38 C 50.1 38 51 38.9 51 40 C 51 41.1 50.1 42 49 42 L 47 42 C 45.9 42 45 41.1 45 40 C 45 38.9 45.9 38 47 38 z M 55 47 C 48.373 47 43 52.373 43 59 C 43 65.627 48.373 71 55 71 C 61.627 71 67 65.627 67 59 C 67 52.373 61.627 47 55 47 z M 55 52 C 56.754 52 58.411641 52.652875 59.681641 53.796875 L 59.957031 53.611328 C 60.953031 52.939328 62.295734 53.648609 62.302734 54.849609 L 62.320312 58.126953 C 62.326312 59.200953 61.237141 59.935344 60.244141 59.527344 L 57.212891 58.283203 C 56.101891 57.827203 55.947359 56.316531 56.943359 55.644531 L 57.050781 55.572266 C 56.439781 55.206266 55.736 55 55 55 C 52.794 55 51 56.794 51 59 C 51 61.206 52.794 63 55 63 C 56.176 63 57.287781 62.485844 58.050781 61.589844 C 58.588781 60.959844 59.534062 60.881969 60.164062 61.417969 C 60.795062 61.953969 60.872937 62.90025 60.335938 63.53125 C 59.002937 65.10025 57.058 66 55 66 C 51.141 66 48 62.859 48 59 C 48 55.141 51.141 52 55 52 z"></path>
                                </svg>
                        </button>


                    </td>
                </tr>
             
            </tbody>
        </table>





        
          
                <ng-template #nodatafound>
                    <div class="no-data-container">
                    <div class="alert  mt-4 tex no-data-message"  role="alert">
                    No data was found.
                    </div>
                </div>
                </ng-template>
    
            
    
    </div>
    
</div>